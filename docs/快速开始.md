# 快速开始指南

## 环境要求

| 组件 | 版本 | 必需 |
|------|------|------|
| JDK | 8+ | ✅ |
| Maven | 3.6+ | ✅ |
| MySQL | 8.0+ | ✅ |
| Redis | 6.0+ | ✅ |
| Elasticsearch | 7.x | ⚠️ 可选 |
| MinIO | - | ⚠️ 可选 |

## 一、启动依赖服务

### 方式1：Docker Compose（推荐）

```bash
cd docs/dev-ops/environment
docker-compose up -d
```

### 方式2：手动安装

1. **MySQL**
   - 创建数据库: `zhizhi`
   - 字符集: `utf8mb4`
   - 执行初始化脚本：
   ```bash
   mysql -u root -p < src/main/resources/sql/01_schema.sql
   mysql -u root -p zhizhi < src/main/resources/sql/02_data.sql
   ```

2. **Redis**
   - 默认端口: 6379
   - 无密码

## 二、配置修改

编辑 `src/main/resources/application-dev.yml`:

```yaml
spring:
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/zhizhi
    username: root
    password: your_password

  redis:
    host: 127.0.0.1
    port: 6379

  elasticsearch:
    enabled: false  # 不使用ES时设为false
```

## 三、启动应用

```bash
# 编译
mvn clean compile

# 运行
mvn spring-boot:run
```

## 四、验证

| 地址 | 说明 |
|------|------|
| http://localhost:8091 | 应用根路径 |
| http://localhost:8091/doc.html | API文档 |

## 五、初始账户

执行 `02_data.sql` 后会创建以下账户（统一密码：`AdminPassword123!`）：

| 账号 | 邮箱 | 类型 |
|------|------|------|
| admin | admin@zhizhi.com | 超级管理员 |
| zhizhi_official | official@zhizhi.com | 官方账号 |
| content_admin | content@zhizhi.com | 内容管理员 |
| operation_admin | operation@zhizhi.com | 运营管理员 |
| test_user | test@example.com | 普通用户 |

## 常见问题

### Q: Elasticsearch连接失败
A: 如果不需要ES搜索功能，设置 `spring.elasticsearch.enabled=false`

### Q: MinIO上传失败
A: 检查MinIO服务是否启动，或配置 `minio.enabled=false` 禁用

### Q: 数据库连接失败
A: 确认MySQL服务已启动，检查用户名密码和端口配置
